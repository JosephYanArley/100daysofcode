<!DOCTYPE html>
<html>
<head>
  <link href="https://fonts.googleapis.com/css?family=Old+Standard+TT" rel="stylesheet">
<link rel="stylesheet" type="text/css" href="/stylesheets/main.css" />
<meta charset="utf-8">
<title>22 день #100днейкода - Отображение</title>
</head>

<body>
	<canvas id="Canvas" width="500" height="500" class="day20canvas">
		alternate content
	</canvas>

	
	
	
	<script src="https://cdn.socket.io/socket.io-1.2.0.js"></script>
    	<script src="https://code.createjs.com/createjs-2015.11.26.min.js"></script>
	<script>
        socket = io(location.origin);
        var stage = new createjs.Stage("Canvas");

        socket.on('sprites_21', function(data) {
            console.log(data);
            stage.removeAllChildren();
            for (var key in data) {
                var sprite = new createjs.Bitmap("https://img-android.lisisoft.com/imgmic/9/0/2809-i-com.a1786511733506cf6d55beeb9a.a04485462a.jpg");
                sprite.scaleX = 0.5;		//масштаб
                sprite.scaleY = 0.5;
                sprite.x = data[key].x - 30;		//позиционируем
                sprite.y = data[key].y - 30;
                stage.addChild(sprite);
            }
            setTimeout(function () {
                stage.update();
            }, 1)
        });

    </script>
</body>

</html>
